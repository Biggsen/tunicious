<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session f022e387-c0b7-42e3-97ce-5be22fdd459a (2025-04-05 15:22Z) -->

# API Call Album Limit Inquiry (2025-04-05 15:22Z)

_**User (2025-04-05 15:23Z)**_

Is 50 albums the limit for the api call here?

---

_**Agent (mode Agent)**_

Let me check the code to understand how the artist albums are being fetched and if there's a limit.


---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "getArtistAlbums function implementation" • **25** results</summary>
            
| File | Lines |
|------|-------|
| `src/utils/api.js` | L127-143 |
| `src/views/ArtistView.vue` | L1-55 |
| `src/utils/api.js` | L99-112 |
| `src/composables/useAlbumsData.js` | L93-159 |
| `src/utils/api.js` | L46-65 |
| `src/composables/useAlbumsData.js` | L159-192 |
| `src/utils/api.js` | L34-46 |
| `src/utils/api.js` | L65-99 |
| `src/views/ArtistView.vue` | L98-164 |
| `src/views/ArtistView.vue` | L55-98 |
| `src/utils/api.js` | L112-127 |
| `src/components/AlbumItem.vue` | L1-68 |
| `src/views/ArtistView.vue` | L164-221 |
| `src/composables/useAlbumsData.js` | L192-234 |
| `src/utils/api.js` | L143-159 |
| `src/views/AlbumView.vue` | L1-34 |
| `src/views/ArtistView.vue` | L253-330 |
| `src/composables/useAlbumsData.js` | L31-93 |
| `src/composables/useAlbumsData.js` | L1-31 |
| `src/views/ArtistView.vue` | L221-253 |
| `src/views/AlbumView.vue` | L429-458 |
| `src/views/AlbumView.vue` | L34-90 |
| `src/views/AlbumView.vue` | L246-297 |
| `src/views/AlbumView.vue` | L90-118 |
| `src/views/AlbumView.vue` | L118-175 |

</details>
</tool-use>

---

Looking at the code, I can see that the `getArtistAlbums` function in `src/utils/api.js` has a default limit of 50 albums per request:

```javascript
export async function getArtistAlbums(artistId, accessToken, limit = 50, offset = 0) {
  const response = await fetch(
    `https://api.spotify.com/v1/artists/${artistId}/albums?include_groups=album&limit=${limit}&offset=${offset}`,
    {
      method: "GET",
      headers: { Authorization: "Bearer " + localStorage.getItem("token") },
    }
  );
  // ...
}
```

However, this is just the default limit for a single API request. The function accepts `limit` and `offset` parameters, which means it can be used to paginate through all of an artist's albums. The current implementation in `ArtistView.vue` only makes a single request with the default limit of 50, which means it will only show up to 50 albums for an artist.

If an artist has more than 50 albums, the current implementation won't show all of them. To show all albums, the code would need to be modified to make multiple requests with different offset values until all albums are fetched.

Would you like me to suggest changes to handle artists with more than 50 albums?

---

