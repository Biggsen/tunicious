<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 3dacae4b-c5b4-485a-83a0-7b7139ccc3c2 (2025-04-05 10:40Z) -->

# Update Playlist Panel Text (2025-04-05 10:40Z)

_**User (2025-04-05 10:42Z)**_

in the panel which says 'This album is currently in playlist: curious (new)', update the text to use the playlist name instead of the category. The type can be removed.

---

_**Agent (mode Agent)**_

I'll help you update the text in the playlist status panel to show the playlist name instead of the category. First, I need to check if we have access to the playlist name in the current data.

Looking at the code, I can see that `currentPlaylistInfo` is being fetched from `getCurrentPlaylistInfo`, but I need to verify if it includes the playlist name. Let me search for this function to understand what data it returns.


---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "getCurrentPlaylistInfo function definition" • **25** results</summary>
            
| File | Lines |
|------|-------|
| `src/composables/useAlbumsData.js` | L81-125 |
| `src/utils/api.js` | L25-34 |
| `src/views/PlaylistSingle.vue` | L106-169 |
| `src/views/PlaylistSingle.vue` | L1-59 |
| `src/views/AlbumView.vue` | L1-50 |
| `src/views/PlaylistView.vue` | L1-36 |
| `src/views/PlaylistView.vue` | L36-95 |
| `src/views/PlaylistView.vue` | L95-150 |
| `src/composables/usePlaylistData.js` | L36-65 |
| `src/components/PlaylistItem.vue` | L1-35 |
| `src/composables/usePlaylistData.js` | L65-120 |
| `src/views/PlaylistSingle.vue` | L59-106 |
| `src/composables/usePlaylistData.js` | L1-36 |
| `src/composables/useAlbumsData.js` | L1-28 |
| `src/utils/api.js` | L62-96 |
| `src/router/index.js` | L1-77 |
| `src/views/AlbumView.vue` | L112-153 |
| `src/constants.js` | L4-8 |
| `src/views/PlaylistSingle.vue` | L201-232 |
| `src/views/PlaylistView.vue` | L150-182 |
| `src/views/AlbumView.vue` | L50-112 |
| `src/views/PlaylistView.vue` | L204-245 |
| `src/views/PlaylistView.vue` | L182-204 |
| `src/views/PlaylistSingle.vue` | L232-297 |
| `src/views/PlaylistSingle.vue` | L169-201 |

</details>
</tool-use>

---

I see that we need to fetch the playlist name from Spotify. Looking at the code, I can see that we have access to the `playlistId` in `currentPlaylistInfo`, and we can use the `getPlaylist` function from the API to get the playlist name.

Let me update the code to show the playlist name instead of the category:


---

<tool-use data-tool-type="write" data-tool-name="edit_file">

<details><summary>Tool use: **edit_file** • Edit file: src/views/AlbumView.vue</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -19,4 +19,5 @@
  const saving = ref(false);
  const currentPlaylistInfo = ref(null);
+ const playlistName = ref('');
  
  const playlistId = computed(() =&gt; route.query.playlistId);
```

**Chunk 2**
Lines added: 5, lines removed: undefined

```diff
@@ -124,4 +125,9 @@
      if (albumId) {
        currentPlaylistInfo.value = await getCurrentPlaylistInfo(albumId);
+       // If we have a playlist ID, fetch its name from Spotify
+       if (currentPlaylistInfo.value?.playlistId) {
+         const playlistData = await getPlaylist(currentPlaylistInfo.value.playlistId);
+         playlistName.value = playlistData.name;
+       }
      }
    } catch (err) {
```

**Chunk 3**
Lines added: 1, lines removed: 2

```diff
@@ -166,6 +172,5 @@
              &lt;div v-if="currentPlaylistInfo" class="bg-green-100 border-2 border-green-500 rounded-xl p-4"&gt;
                &lt;p class="text-green-700"&gt;
-                 This album is currently in playlist: &lt;strong&gt;{{ currentPlaylistInfo.category }}&lt;/strong&gt;
-                 ({{ currentPlaylistInfo.type }})
+                 This album is currently in playlist: &lt;strong&gt;{{ playlistName }}&lt;/strong&gt;
                &lt;/p&gt;
              &lt;/div&gt;
```

</details>

</tool-use>

---

I've made the following changes to update the playlist status panel:

1. Added a new `playlistName` ref to store the playlist name
2. Updated the `onMounted` hook to fetch the playlist name from Spotify when we have a playlist ID
3. Modified the template to display the playlist name instead of the category and type

The changes will now show the actual playlist name from Spotify instead of the category and type. For example, if the playlist is named "My Favorite Rock Songs", it will show "This album is currently in playlist: My Favorite Rock Songs" instead of showing the category and type.

Would you like me to make any adjustments to this implementation?

---

