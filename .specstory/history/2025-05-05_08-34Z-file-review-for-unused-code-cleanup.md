<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 36d5d3c1-75a3-4370-80d9-1a124e046ce9 (2025-05-05 08:34Z) -->

# File Review for Unused Code Cleanup (2025-05-05 08:34Z)

_**User (2025-05-05 07:11Z)**_

let's review this file properly. I think there's some stuff that's not being used.

---

_**Agent (mode Agent)**_

Let's review `src/components/AlbumItem.vue` for unused or unnecessary code, props, imports, and variables:

### 1. **Imports**
- **BaseButton**: Used in the template.
- **useRouter**: Used for navigation.
- **ref**: Used for `saving` and `error`.
- **useCurrentUser**: Used for `user`.
- **Firebase imports** (`doc`, `setDoc`, `serverTimestamp`, `collection`, `query`, `where`, `getDocs`): Not used anywhere in the script.
- **db**: Not used.
- **useAlbumsData**: Used for `fetchUserAlbumData` and `addAlbumToCollection` (but only `addAlbumToCollection` is used).
- **useSpotifyApi**: Only `getPlaylistAlbumsWithDates` is imported, but not used.
- **getLastFmLink**: Used in the template.

### 2. **Props**
- All props are referenced in the template or script, except possibly:
  - `isMappedAlbum`: Used in the album name click handler.
  - `hasMoved`: Used for conditional rendering.
  - `inCollection`: Used for conditional rendering.
  - `hideArtist`: Used for conditional rendering.
  - `lastFmUserName`: Used for LastFM link.
  - `currentPlaylist`: Used for click handler and `handleAddToCollection`.
  - All props seem to be referenced.

### 3. **Variables/Functions**
- **displayYear**: Used in the template.
- **navigateToArtist**: Used in the template.
- **handleUpdatePlaylist**: Used in the template.
- **saving**: Used in the template and `handleAddToCollection`.
- **error**: Used in the template and `handleAddToCollection`.
- **user**: Used in `handleAddToCollection`.
- **fetchUserAlbumData**: Imported but not used.
- **addAlbumToCollection**: Used in `handleAddToCollection`.
- **getPlaylistAlbumsWithDates**: Imported but not used.
- **handleAddToCollection**: Used in the template.
- **fallbackImage**: Used in the template.

### 4. **Emits**
- `'updatePlaylist'`: Used in `handleUpdatePlaylist`.
- `'added-to-collection'`: Used in `handleAddToCollection`.

### 5. **Other**
- `console.log('AlbumItem hasMoved prop:', ...)` is for debugging and could be removed for production.

---

## **Summary of Unused/Redundant Items**
- **Unused Imports**:
  - `doc`, `setDoc`, `serverTimestamp`, `collection`, `query`, `where`, `getDocs` from `firebase/firestore`
  - `db` from `@/firebase`
  - `fetchUserAlbumData` from `useAlbumsData`
  - `getPlaylistAlbumsWithDates` from `useSpotifyApi`
- **Unused Variables**:
  - None, all declared variables are used.
- **Debugging Code**:
  - The `console.log` statement is only for debugging.

---

If you want to clean up, you could:
- Remove the unused Firebase imports and `db`.
- Remove `fetchUserAlbumData` and `getPlaylistAlbumsWithDates` imports.
- Remove the `console.log` statement.

Let me know if you want to make these changes.

---

